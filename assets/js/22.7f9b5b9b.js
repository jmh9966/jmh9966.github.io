(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{572:function(t,a,n){"use strict";n.r(a);var s=n(10),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"本单元目标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本单元目标"}},[t._v("#")]),t._v(" 本单元目标")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("一、为什么要学习数据库\n二、数据库的相关概念      \n\tDBMS、DB、SQL\n三、数据库存储数据的特点\n四、初始MySQL\n\tMySQL产品的介绍        \n\tMySQL产品的安装          ★        \n\tMySQL服务的启动和停止     ★\n\tMySQL服务的登录和退出     ★      \n\tMySQL的常见命令和语法规范      \n五、DQL语言的学习   ★              \n\t基础查询        ★             \n\t条件查询  \t   ★\t\t\t\n\t排序查询  \t   ★\t\t\t\t\n\t常见函数        ★               \n\t分组函数        ★              \n\t分组查询\t\t   ★\t\t\t\n\t连接查询\t \t★\t\t\t\n\t子查询       √                  \n\t分页查询       ★              \n\tunion联合查询\t√\t\t\t\n\t\n六、DML语言的学习    ★             \n\t插入语句\t\t\t\t\t\t\n\t修改语句\t\t\t\t\t\t\n\t删除语句\t\t\t\t\t\t\n七、DDL语言的学习  \n\t库和表的管理\t √\t\t\t\t\n\t常见数据类型介绍  √          \n\t常见约束  \t  √\t\t\t\n八、TCL语言的学习\n\t事务和事务处理                 \n九、视图的讲解           √\n十、变量                      \n十一、存储过程和函数   \n十二、流程控制结构       \n")])])]),n("h2",{attrs:{id:"数据库的好处"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库的好处"}},[t._v("#")]),t._v(" 数据库的好处")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1.持久化数据到本地\n2.可以实现结构化查询，方便管理\n")])])]),n("h2",{attrs:{id:"数据库相关概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库相关概念"}},[t._v("#")]),t._v(" 数据库相关概念")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、DB：数据库，保存一组有组织的数据的容器\n2、DBMS：数据库管理系统，又称为数据库软件（产品），用于管理DB中的数据\n3、SQL:结构化查询语言，用于和DBMS通信的语言\n")])])]),n("h2",{attrs:{id:"数据库存储数据的特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库存储数据的特点"}},[t._v("#")]),t._v(" 数据库存储数据的特点")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、将数据放到表中，表再放到库中\n2、一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性。\n3、表具有一些特性，这些特性定义了数据在表中如何存储，类似java中 “类”的设计。\n4、表由列组成，我们也称为字段。所有表都是由一个或多个列组成的，每一列类似java 中的”属性”\n5、表中的数据是按行存储的，每一行类似于java中的“对象”。\n")])])]),n("h2",{attrs:{id:"mysql产品的介绍和安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql产品的介绍和安装"}},[t._v("#")]),t._v(" MySQL产品的介绍和安装")]),t._v(" "),n("h3",{attrs:{id:"mysql服务的启动和停止"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql服务的启动和停止"}},[t._v("#")]),t._v(" MySQL服务的启动和停止")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("方式一：计算机——右击管理——服务\n方式二：通过管理员身份运行\nnet start 服务名（启动服务）\nnet stop 服务名（停止服务）\n")])])]),n("h3",{attrs:{id:"mysql服务的登录和退出"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql服务的登录和退出"}},[t._v("#")]),t._v(" MySQL服务的登录和退出")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("方式一：通过mysql自带的客户端\n只限于root用户\n\n方式二：通过windows自带的客户端\n登录：\nmysql 【-h主机名 -P端口号 】-u用户名 -p密码\n\n退出：\nexit或ctrl+C\n")])])]),n("h3",{attrs:{id:"mysql的常见命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql的常见命令"}},[t._v("#")]),t._v(" MySQL的常见命令")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1.查看当前所有的数据库\nshow databases;\n2.打开指定的库\nuse 库名\n3.查看当前库的所有表\nshow tables;\n4.查看其它库的所有表\nshow tables from 库名;\n5.创建表\ncreate table 表名(\n\n\t列名 列类型,\n\t列名 列类型，\n\t。。。\n);\n6.查看表结构\ndesc 表名;\n\n\n7.查看服务器的版本\n方式一：登录到mysql服务端\nselect version();\n方式二：没有登录到mysql服务端\nmysql --version\n或\nmysql --V\n")])])]),n("h3",{attrs:{id:"mysql的语法规范"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql的语法规范"}},[t._v("#")]),t._v(" MySQL的语法规范")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1.不区分大小写,但建议关键字大写，表名、列名小写\n2.每条命令最好用分号结尾\n3.每条命令根据需要，可以进行缩进 或换行\n4.注释\n\t单行注释：#注释文字\n\t单行注释：-- 注释文字\n\t多行注释：/* 注释文字  */\n")])])]),n("h3",{attrs:{id:"sql的语言分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sql的语言分类"}},[t._v("#")]),t._v(" SQL的语言分类")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("DQL（Data Query Language）：数据查询语言\n\tselect \nDML(Data Manipulate Language):数据操作语言\n\tinsert 、update、delete\nDDL（Data Define Languge）：数据定义语言\n\tcreate、drop、alter\nTCL（Transaction Control Language）：事务控制语言\n\tcommit、rollback\n")])])]),n("h3",{attrs:{id:"sql的常见命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sql的常见命令"}},[t._v("#")]),t._v(" SQL的常见命令")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("show databases； 查看所有的数据库\nuse 库名； 打开指定 的库\nshow tables ; 显示库中的所有表\nshow tables from 库名;显示指定库中的所有表\ncreate table 表名(\n\t字段名 字段类型,\t\n\t字段名 字段类型\n); 创建表\n\ndesc 表名; 查看指定表的结构\nselect * from 表名;显示表中的所有数据\n")])])]),n("h2",{attrs:{id:"dql语言的学习"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dql语言的学习"}},[t._v("#")]),t._v(" DQL语言的学习")]),t._v(" "),n("h3",{attrs:{id:"进阶1-基础查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶1-基础查询"}},[t._v("#")]),t._v(" 进阶1：基础查询")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("语法：\nSELECT 要查询的东西\n【FROM 表名】;\n\n类似于Java中 :System.out.println(要打印的东西);\n特点：\n①通过select查询完的结果 ，是一个虚拟的表格，不是真实存在\n② 要查询的东西 可以是常量值、可以是表达式、可以是字段、可以是函数\n")])])]),n("h3",{attrs:{id:"进阶2-条件查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶2-条件查询"}},[t._v("#")]),t._v(" 进阶2：条件查询")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("条件查询：根据条件过滤原始表的数据，查询到想要的数据\n语法：\nselect \n\t要查询的字段|表达式|常量值|函数\nfrom \n\t表\nwhere \n\t条件 ;\n\n分类：\n一、条件表达式\n\t示例：salary>10000\n\t条件运算符：\n\t> < >= <= = != <>\n\n二、逻辑表达式\n示例：salary>10000 && salary<20000\n\n逻辑运算符：\n\n\tand（&&）:两个条件如果同时成立，结果为true，否则为false\n\tor(||)：两个条件只要有一个成立，结果为true，否则为false\n\tnot(!)：如果条件成立，则not后为false，否则为true\n\n三、模糊查询\n示例：last_name like 'a%'\n")])])]),n("h3",{attrs:{id:"进阶3-排序查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶3-排序查询"}},[t._v("#")]),t._v(" 进阶3：排序查询")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("语法：\nselect\n\t要查询的东西\nfrom\n\t表\nwhere \n\t条件\n\norder by 排序的字段|表达式|函数|别名 【asc|desc】\n")])])]),n("h3",{attrs:{id:"进阶4-常见函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶4-常见函数"}},[t._v("#")]),t._v(" 进阶4：常见函数")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("一、单行函数\n1、字符函数\n\tconcat拼接\n\tsubstr截取子串\n\tupper转换成大写\n\tlower转换成小写\n\ttrim去前后指定的空格和字符\n\tltrim去左边空格\n\trtrim去右边空格\n\treplace替换\n\tlpad左填充\n\trpad右填充\n\tinstr返回子串第一次出现的索引\n\tlength 获取字节个数\n\t\n2、数学函数\n\tround 四舍五入\n\trand 随机数\n\tfloor向下取整\n\tceil向上取整\n\tmod取余\n\ttruncate截断\n3、日期函数\n\tnow当前系统日期+时间\n\tcurdate当前系统日期\n\tcurtime当前系统时间\n\tstr_to_date 将字符转换成日期\n\tdate_format将日期转换成字符\n4、流程控制函数\n\tif 处理双分支\n\tcase语句 处理多分支\n\t\t情况1：处理等值判断\n\t\t情况2：处理条件判断\n\t\n5、其他函数\n\tversion版本\n\tdatabase当前库\n\tuser当前连接用户\n")])])]),n("p",[t._v("二、分组函数")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\tsum 求和\n\tmax 最大值\n\tmin 最小值\n\tavg 平均值\n\tcount 计数\n\n\t特点：\n\t1、以上五个分组函数都忽略null值，除了count(*)\n\t2、sum和avg一般用于处理数值型\n\t\tmax、min、count可以处理任何数据类型\n    3、都可以搭配distinct使用，用于统计去重后的结果\n\t4、count的参数可以支持：\n\t\t字段、*、常量值，一般放1\n\n\t   建议使用 count(*)\n")])])]),n("h2",{attrs:{id:"进阶5-分组查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶5-分组查询"}},[t._v("#")]),t._v(" 进阶5：分组查询")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("语法：\nselect 查询的字段，分组函数\nfrom 表\ngroup by 分组的字段\n\n\n特点：\n1、可以按单个字段分组\n2、和分组函数一同查询的字段最好是分组后的字段\n3、分组筛选\n\t\t针对的表\t位置\t\t\t关键字\n分组前筛选：\t原始表\t\tgroup by的前面\t\twhere\n分组后筛选：\t分组后的结果集\tgroup by的后面\t\thaving\n\n4、可以按多个字段分组，字段之间用逗号隔开\n5、可以支持排序\n6、having后可以支持别名\n")])])]),n("h2",{attrs:{id:"进阶6-多表连接查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶6-多表连接查询"}},[t._v("#")]),t._v(" 进阶6：多表连接查询")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("笛卡尔乘积：如果连接条件省略或无效则会出现\n解决办法：添加上连接条件\n")])])]),n("p",[t._v("一、传统模式下的连接 ：等值连接——非等值连接")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1.等值连接的结果 = 多个表的交集\n2.n表连接，至少需要n-1个连接条件\n3.多个表不分主次，没有顺序要求\n4.一般为表起别名，提高阅读性和性能\n")])])]),n("p",[t._v("二、sql99语法：通过join关键字实现连接")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("含义：1999年推出的sql语法\n支持：\n等值连接、非等值连接 （内连接）\n外连接\n交叉连接\n\n语法：\n\nselect 字段，...\nfrom 表1\n【inner|left outer|right outer|cross】join 表2 on  连接条件\n【inner|left outer|right outer|cross】join 表3 on  连接条件\n【where 筛选条件】\n【group by 分组字段】\n【having 分组后的筛选条件】\n【order by 排序的字段或表达式】\n\n好处：语句上，连接条件和筛选条件实现了分离，简洁明了！\n")])])]),n("p",[t._v("三、自连接")]),t._v(" "),n("p",[t._v("案例：查询员工名和直接上级的名称")]),t._v(" "),n("p",[t._v("sql99")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SELECT e.last_name,m.last_name\nFROM employees e\nJOIN employees m ON e.`manager_id`=m.`employee_id`;\n")])])]),n("p",[t._v("sql92")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SELECT e.last_name,m.last_name\nFROM employees e,employees m \nWHERE e.`manager_id`=m.`employee_id`;\n")])])]),n("h2",{attrs:{id:"进阶7-子查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶7-子查询"}},[t._v("#")]),t._v(" 进阶7：子查询")]),t._v(" "),n("p",[t._v("含义：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("一条查询语句中又嵌套了另一条完整的select语句，其中被嵌套的select语句，称为子查询或内查询\n在外面的查询语句，称为主查询或外查询\n")])])]),n("p",[t._v("特点：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、子查询都放在小括号内\n2、子查询可以放在from后面、select后面、where后面、having后面，但一般放在条件的右侧\n3、子查询优先于主查询执行，主查询使用了子查询的执行结果\n4、子查询根据查询结果的行数不同分为以下两类：\n① 单行子查询\n\t结果集只有一行\n\t一般搭配单行操作符使用：> < = <> >= <= \n\t非法使用子查询的情况：\n\ta、子查询的结果为一组值\n\tb、子查询的结果为空\n\t\n② 多行子查询\n\t结果集有多行\n\t一般搭配多行操作符使用：any、all、in、not in\n\tin： 属于子查询结果中的任意一个就行\n\tany和all往往可以用其他查询代替\n")])])]),n("h2",{attrs:{id:"进阶8-分页查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶8-分页查询"}},[t._v("#")]),t._v(" 进阶8：分页查询")]),t._v(" "),n("p",[t._v("应用场景：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("实际的web项目中需要根据用户的需求提交对应的分页查询的sql语句\n")])])]),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("select 字段|表达式,...\nfrom 表\n【where 条件】\n【group by 分组字段】\n【having 条件】\n【order by 排序的字段】\nlimit 【起始的条目索引，】条目数;\n")])])]),n("p",[t._v("特点：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1.起始条目索引从0开始\n\n2.limit子句放在查询语句的最后\n\n3.公式：select * from  表 limit （page-1）*sizePerPage,sizePerPage\n假如:\n每页显示条目数sizePerPage\n要显示的页数 page\n")])])]),n("h2",{attrs:{id:"进阶9-联合查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶9-联合查询"}},[t._v("#")]),t._v(" 进阶9：联合查询")]),t._v(" "),n("p",[t._v("引入：\nunion 联合、合并")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("select 字段|常量|表达式|函数 【from 表】 【where 条件】 union 【all】\nselect 字段|常量|表达式|函数 【from 表】 【where 条件】 union 【all】\nselect 字段|常量|表达式|函数 【from 表】 【where 条件】 union  【all】\n.....\nselect 字段|常量|表达式|函数 【from 表】 【where 条件】\n")])])]),n("p",[t._v("特点：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、多条查询语句的查询的列数必须是一致的\n2、多条查询语句的查询的列的类型几乎相同\n3、union代表去重，union all代表不去重\n")])])]),n("h2",{attrs:{id:"dml语言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dml语言"}},[t._v("#")]),t._v(" DML语言")]),t._v(" "),n("h3",{attrs:{id:"插入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插入"}},[t._v("#")]),t._v(" 插入")]),t._v(" "),n("p",[t._v("语法：\ninsert into 表名(字段名，...)\nvalues(值1，...);")]),t._v(" "),n("p",[t._v("特点：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、字段类型和值类型一致或兼容，而且一一对应\n2、可以为空的字段，可以不用插入值，或用null填充\n3、不可以为空的字段，必须插入值\n4、字段个数和值的个数必须一致\n5、字段可以省略，但默认所有字段，并且顺序和表中的存储顺序一致\n")])])]),n("h3",{attrs:{id:"修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改"}},[t._v("#")]),t._v(" 修改")]),t._v(" "),n("p",[t._v("修改单表语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("update 表名 set 字段=新值,字段=新值\n【where 条件】\n")])])]),n("p",[t._v("修改多表语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("update 表1 别名1,表2 别名2\nset 字段=新值，字段=新值\nwhere 连接条件\nand 筛选条件\n")])])]),n("h3",{attrs:{id:"删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),n("p",[t._v("方式1：delete语句")]),t._v(" "),n("p",[t._v("单表的删除： ★\ndelete from 表名 【where 筛选条件】")]),t._v(" "),n("p",[t._v("多表的删除：\ndelete 别名1，别名2\nfrom 表1 别名1，表2 别名2\nwhere 连接条件\nand 筛选条件;")]),t._v(" "),n("p",[t._v("方式2：truncate语句")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("truncate table 表名\n")])])]),n("p",[t._v("两种方式的区别【面试题】")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("#1.truncate不能加where条件，而delete可以加where条件\n\n#2.truncate的效率高一丢丢\n\n#3.truncate 删除带自增长的列的表后，如果再插入数据，数据从1开始\n#delete 删除带自增长列的表后，如果再插入数据，数据从上一次的断点处开始\n\n#4.truncate删除不能回滚，delete删除可以回滚\n")])])]),n("h2",{attrs:{id:"ddl语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ddl语句"}},[t._v("#")]),t._v(" DDL语句")]),t._v(" "),n("h3",{attrs:{id:"库和表的管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#库和表的管理"}},[t._v("#")]),t._v(" 库和表的管理")]),t._v(" "),n("p",[t._v("库的管理：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("一、创建库\ncreate database 库名\n二、删除库\ndrop database 库名\n")])])]),n("p",[t._v("表的管理：\n#1.创建表")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("CREATE TABLE IF NOT EXISTS stuinfo(\n\tstuId INT,\n\tstuName VARCHAR(20),\n\tgender CHAR,\n\tbornDate DATETIME\n\t\n\n);\n\nDESC studentinfo;\n#2.修改表 alter\n语法：ALTER TABLE 表名 ADD|MODIFY|DROP|CHANGE COLUMN 字段名 【字段类型】;\n\n#①修改字段名\nALTER TABLE studentinfo CHANGE  COLUMN sex gender CHAR;\n\n#②修改表名\nALTER TABLE stuinfo RENAME [TO]  studentinfo;\n#③修改字段类型和列级约束\nALTER TABLE studentinfo MODIFY COLUMN borndate DATE ;\n\n#④添加字段\n\nALTER TABLE studentinfo ADD COLUMN email VARCHAR(20) first;\n#⑤删除字段\nALTER TABLE studentinfo DROP COLUMN email;\n\n\n#3.删除表\n\nDROP TABLE [IF EXISTS] studentinfo;\n")])])]),n("h3",{attrs:{id:"常见类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见类型"}},[t._v("#")]),t._v(" 常见类型")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("整型：\n\t\n小数：\n\t浮点型\n\t定点型\n字符型：\n日期型：\nBlob类型：\n")])])]),n("h3",{attrs:{id:"常见约束"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见约束"}},[t._v("#")]),t._v(" 常见约束")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("NOT NULL\nDEFAULT\nUNIQUE\nCHECK\nPRIMARY KEY\nFOREIGN KEY\n")])])]),n("h2",{attrs:{id:"数据库事务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库事务"}},[t._v("#")]),t._v(" 数据库事务")]),t._v(" "),n("h3",{attrs:{id:"含义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#含义"}},[t._v("#")]),t._v(" 含义")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("通过一组逻辑操作单元（一组DML——sql语句），将数据从一种状态切换到另外一种状态\n")])])]),n("h3",{attrs:{id:"特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("（ACID）\n原子性：要么都执行，要么都回滚\n一致性：保证数据的状态操作前和操作后保持一致\n隔离性：多个事务同时操作相同数据库的同一个数据时，一个事务的执行不受另外一个事务的干扰\n持久性：一个事务一旦提交，则数据将持久化到本地，除非其他事务对其进行修改\n")])])]),n("p",[t._v("相关步骤：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、开启事务\n2、编写事务的一组逻辑操作单元（多条sql语句）\n3、提交事务或回滚事务\n")])])]),n("h3",{attrs:{id:"事务的分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事务的分类"}},[t._v("#")]),t._v(" 事务的分类：")]),t._v(" "),n("p",[t._v("隐式事务，没有明显的开启和结束事务的标志")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("比如\ninsert、update、delete语句本身就是一个事务\n")])])]),n("p",[t._v("显式事务，具有明显的开启和结束事务的标志")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t1、开启事务\n\t取消自动提交事务的功能\n\t\n\t2、编写事务的一组逻辑操作单元（多条sql语句）\n\tinsert\n\tupdate\n\tdelete\n\t\n\t3、提交事务或回滚事务\n")])])]),n("h3",{attrs:{id:"使用到的关键字"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用到的关键字"}},[t._v("#")]),t._v(" 使用到的关键字")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("set autocommit=0;\nstart transaction;\ncommit;\nrollback;\n\nsavepoint  断点\ncommit to 断点\nrollback to 断点\n")])])]),n("h3",{attrs:{id:"事务的隔离级别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事务的隔离级别"}},[t._v("#")]),t._v(" 事务的隔离级别:")]),t._v(" "),n("p",[t._v("事务并发问题如何发生？")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("当多个事务同时操作同一个数据库的相同数据时\n")])])]),n("p",[t._v("事务的并发问题有哪些？")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("脏读：一个事务读取到了另外一个事务未提交的数据\n不可重复读：同一个事务中，多次读取到的数据不一致\n幻读：一个事务读取数据时，另外一个事务进行更新，导致第一个事务读取到了没有更新的数据\n")])])]),n("p",[t._v("如何避免事务的并发问题？")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("通过设置事务的隔离级别\n1、READ UNCOMMITTED\n2、READ COMMITTED 可以避免脏读\n3、REPEATABLE READ 可以避免脏读、不可重复读和一部分幻读\n4、SERIALIZABLE可以避免脏读、不可重复读和幻读\n")])])]),n("p",[t._v("设置隔离级别：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("set session|global  transaction isolation level 隔离级别名;\n")])])]),n("p",[t._v("查看隔离级别：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("select @@tx_isolation;\n")])])]),n("h2",{attrs:{id:"视图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[t._v("#")]),t._v(" 视图")]),t._v(" "),n("p",[t._v("含义：理解成一张虚拟的表")]),t._v(" "),n("p",[t._v("视图和表的区别：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t使用方式\t占用物理空间\n\n视图\t完全相同\t不占用，仅仅保存的是sql逻辑\n\n表\t完全相同\t占用\n")])])]),n("p",[t._v("视图的好处：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、sql语句提高重用性，效率高\n2、和表实现了分离，提高了安全性\n")])])]),n("h3",{attrs:{id:"视图的创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图的创建"}},[t._v("#")]),t._v(" 视图的创建")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("语法：\nCREATE VIEW  视图名\nAS\n查询语句;\n")])])]),n("h3",{attrs:{id:"视图的增删改查"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图的增删改查"}},[t._v("#")]),t._v(" 视图的增删改查")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、查看视图的数据 ★\n\nSELECT * FROM my_v4;\nSELECT * FROM my_v1 WHERE last_name='Partners';\n\n2、插入视图的数据\nINSERT INTO my_v4(last_name,department_id) VALUES('虚竹',90);\n\n3、修改视图的数据\n\nUPDATE my_v4 SET last_name ='梦姑' WHERE last_name='虚竹';\n\n\n4、删除视图的数据\nDELETE FROM my_v4;\n")])])]),n("h3",{attrs:{id:"某些视图不能更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#某些视图不能更新"}},[t._v("#")]),t._v(" 某些视图不能更新")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("包含以下关键字的sql语句：分组函数、distinct、group  by、having、union或者union all\n常量视图\nSelect中包含子查询\njoin\nfrom一个不能更新的视图\nwhere子句的子查询引用了from子句中的表\n")])])]),n("h3",{attrs:{id:"视图逻辑的更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图逻辑的更新"}},[t._v("#")]),t._v(" 视图逻辑的更新")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("#方式一：\nCREATE OR REPLACE VIEW test_v7\nAS\nSELECT last_name FROM employees\nWHERE employee_id>100;\n\n#方式二:\nALTER VIEW test_v7\nAS\nSELECT employee_id FROM employees;\n\nSELECT * FROM test_v7;\n")])])]),n("h3",{attrs:{id:"视图的删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图的删除"}},[t._v("#")]),t._v(" 视图的删除")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("DROP VIEW test_v1,test_v2,test_v3;\n")])])]),n("h3",{attrs:{id:"视图结构的查看"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图结构的查看"}},[t._v("#")]),t._v(" 视图结构的查看")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("DESC test_v7;\nSHOW CREATE VIEW test_v7;\n")])])]),n("h2",{attrs:{id:"存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[t._v("#")]),t._v(" 存储过程")]),t._v(" "),n("p",[t._v("含义：一组经过预先编译的sql语句的集合\n好处：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、提高了sql语句的重用性，减少了开发程序员的压力\n2、提高了效率\n3、减少了传输次数\n")])])]),n("p",[t._v("分类：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、无返回无参\n2、仅仅带in类型，无返回有参\n3、仅仅带out类型，有返回无参\n4、既带in又带out，有返回有参\n5、带inout，有返回有参\n注意：in、out、inout都可以在一个存储过程中带多个\n")])])]),n("h3",{attrs:{id:"创建存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建存储过程"}},[t._v("#")]),t._v(" 创建存储过程")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("create procedure 存储过程名(in|out|inout 参数名  参数类型,...)\nbegin\n\t存储过程体\n\nend\n")])])]),n("p",[t._v("类似于方法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("修饰符 返回类型 方法名(参数类型 参数名,...){\n\n\t方法体;\n}\n")])])]),n("p",[t._v("注意")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("1、需要设置新的结束标记\ndelimiter 新的结束标记\n示例：\ndelimiter $\n\nCREATE PROCEDURE 存储过程名(IN|OUT|INOUT 参数名  参数类型,...)\nBEGIN\n\tsql语句1;\n\tsql语句2;\n\nEND $\n\n2、存储过程体中可以有多条sql语句，如果仅仅一条sql语句，则可以省略begin end\n\n3、参数前面的符号的意思\nin:该参数只能作为输入 （该参数不能做返回值）\nout：该参数只能作为输出（该参数只能做返回值）\ninout：既能做输入又能做输出\n")])])]),n("p",[t._v("#调用存储过程\ncall 存储过程名(实参列表)")]),t._v(" "),n("h2",{attrs:{id:"函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),n("h3",{attrs:{id:"创建函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建函数"}},[t._v("#")]),t._v(" 创建函数")]),t._v(" "),n("p",[t._v("学过的函数：LENGTH、SUBSTR、CONCAT等\n语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("CREATE FUNCTION 函数名(参数名 参数类型,...) RETURNS 返回类型\nBEGIN\n\t函数体\n\nEND\n")])])]),n("h3",{attrs:{id:"调用函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#调用函数"}},[t._v("#")]),t._v(" 调用函数")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SELECT 函数名（实参列表）\n")])])]),n("h3",{attrs:{id:"函数和存储过程的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数和存储过程的区别"}},[t._v("#")]),t._v(" 函数和存储过程的区别")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t\t关键字\t\t调用语法\t返回值\t\t\t应用场景\n函数\t\tFUNCTION\tSELECT 函数()\t只能是一个\t\t一般用于查询结果为一个值并返回时，当有返回值而且仅仅一个\n存储过程\tPROCEDURE\tCALL 存储过程()\t可以有0个或多个\t\t一般用于更新\n")])])]),n("h2",{attrs:{id:"流程控制结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#流程控制结构"}},[t._v("#")]),t._v(" 流程控制结构")]),t._v(" "),n("h3",{attrs:{id:"系统变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统变量"}},[t._v("#")]),t._v(" 系统变量")]),t._v(" "),n("p",[t._v("一、全局变量")]),t._v(" "),n("p",[t._v("作用域：针对于所有会话（连接）有效，但不能跨重启")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("查看所有全局变量\nSHOW GLOBAL VARIABLES;\n查看满足条件的部分系统变量\nSHOW GLOBAL VARIABLES LIKE '%char%';\n查看指定的系统变量的值\nSELECT @@global.autocommit;\n为某个系统变量赋值\nSET @@global.autocommit=0;\nSET GLOBAL autocommit=0;\n")])])]),n("p",[t._v("二、会话变量")]),t._v(" "),n("p",[t._v("作用域：针对于当前会话（连接）有效")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("查看所有会话变量\nSHOW SESSION VARIABLES;\n查看满足条件的部分会话变量\nSHOW SESSION VARIABLES LIKE '%char%';\n查看指定的会话变量的值\nSELECT @@autocommit;\nSELECT @@session.tx_isolation;\n为某个会话变量赋值\nSET @@session.tx_isolation='read-uncommitted';\nSET SESSION tx_isolation='read-committed';\n")])])]),n("h3",{attrs:{id:"自定义变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量"}},[t._v("#")]),t._v(" 自定义变量")]),t._v(" "),n("p",[t._v("一、用户变量")]),t._v(" "),n("p",[t._v("声明并初始化：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SET @变量名=值;\nSET @变量名:=值;\nSELECT @变量名:=值;\n")])])]),n("p",[t._v("赋值：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("方式一：一般用于赋简单的值\nSET 变量名=值;\nSET 变量名:=值;\nSELECT 变量名:=值;\n\n\n方式二：一般用于赋表 中的字段值\nSELECT 字段名或表达式 INTO 变量\nFROM 表;\n")])])]),n("p",[t._v("使用：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("select @变量名;\n")])])]),n("p",[t._v("二、局部变量")]),t._v(" "),n("p",[t._v("声明：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("declare 变量名 类型 【default 值】;\n")])])]),n("p",[t._v("赋值：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("方式一：一般用于赋简单的值\nSET 变量名=值;\nSET 变量名:=值;\nSELECT 变量名:=值;\n\n\n方式二：一般用于赋表 中的字段值\nSELECT 字段名或表达式 INTO 变量\nFROM 表;\n")])])]),n("p",[t._v("使用：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("select 变量名\n")])])]),n("p",[t._v("二者的区别：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t\t作用域\t\t\t定义位置\t\t语法\n")])])]),n("p",[t._v("用户变量\t当前会话\t\t会话的任何地方\t\t加@符号，不用指定类型\n局部变量\t定义它的BEGIN END中 \tBEGIN END的第一句话\t一般不用加@,需要指定类型")]),t._v(" "),n("h3",{attrs:{id:"分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分支"}},[t._v("#")]),t._v(" 分支")]),t._v(" "),n("p",[t._v("一、if函数\n语法：if(条件，值1，值2)\n特点：可以用在任何位置")]),t._v(" "),n("p",[t._v("二、case语句")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("情况一：类似于switch\ncase 表达式\nwhen 值1 then 结果1或语句1(如果是语句，需要加分号) \nwhen 值2 then 结果2或语句2(如果是语句，需要加分号)\n...\nelse 结果n或语句n(如果是语句，需要加分号)\nend 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）\n\n情况二：类似于多重if\ncase \nwhen 条件1 then 结果1或语句1(如果是语句，需要加分号) \nwhen 条件2 then 结果2或语句2(如果是语句，需要加分号)\n...\nelse 结果n或语句n(如果是语句，需要加分号)\nend 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）\n")])])]),n("p",[t._v("特点：\n可以用在任何位置")]),t._v(" "),n("p",[t._v("三、if elseif语句")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("if 情况1 then 语句1;\nelseif 情况2 then 语句2;\n...\nelse 语句n;\nend if;\n")])])]),n("p",[t._v("特点：\n只能用在begin end中！！！！！！！！！！！！！！！")]),t._v(" "),n("p",[t._v("三者比较：\n应用场合\nif函数\t\t简单双分支\ncase结构\t等值判断 的多分支\nif结构\t\t区间判断 的多分支")]),t._v(" "),n("h3",{attrs:{id:"循环"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#循环"}},[t._v("#")]),t._v(" 循环")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("【标签：】WHILE 循环条件  DO\n\t循环体\nEND WHILE 【标签】;\n")])])]),n("p",[t._v("特点：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("只能放在BEGIN END里面\n\n如果要搭配leave跳转语句，需要使用标签，否则可以不用标签\n\nleave类似于java中的break语句，跳出所在循环！！！\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);